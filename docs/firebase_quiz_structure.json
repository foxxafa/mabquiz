{
  "firestore": {
    "database": "(default)",
    "collections": {
      "questions": {
        "description": "Quiz questions collection",
        "fields": {
          "id": {
            "type": "string",
            "description": "Unique question identifier",
            "required": true,
            "example": "math_001"
          },
          "text": {
            "type": "string",
            "description": "Question text/prompt",
            "required": true,
            "example": "2 + 2 = ?"
          },
          "type": {
            "type": "string",
            "enum": ["multipleChoice", "trueFalse", "fillInBlank", "matching"],
            "description": "Type of question",
            "required": true,
            "example": "multipleChoice"
          },
          "difficulty": {
            "type": "string",
            "enum": ["beginner", "intermediate", "advanced"],
            "description": "Difficulty level",
            "required": true,
            "example": "beginner"
          },
          "options": {
            "type": "array",
            "items": "string",
            "description": "Answer options for multiple choice questions",
            "required": true,
            "example": ["3", "4", "5", "6"]
          },
          "correctAnswer": {
            "type": "string",
            "description": "Correct answer",
            "required": true,
            "example": "4"
          },
          "explanation": {
            "type": "string",
            "description": "Explanation for the correct answer",
            "required": false,
            "example": "2 + 2 = 4. Temel toplama işlemi."
          },
          "tags": {
            "type": "array",
            "items": "string",
            "description": "Tags for categorization and search",
            "required": false,
            "example": ["toplama", "temel"]
          },
          "subject": {
            "type": "string",
            "description": "Subject/topic of the question",
            "required": true,
            "example": "Matematik"
          },
          "points": {
            "type": "number",
            "description": "Points awarded for correct answer",
            "required": false,
            "default": 10,
            "example": 5
          },
          "initialConfidence": {
            "type": "number",
            "description": "Initial confidence level for bandit algorithm",
            "required": false,
            "default": 0.5,
            "example": 0.5
          }
        },
        "indexes": [
          {
            "fields": ["subject"],
            "description": "Query questions by subject"
          },
          {
            "fields": ["difficulty"],
            "description": "Query questions by difficulty"
          },
          {
            "fields": ["subject", "difficulty"],
            "description": "Query questions by subject and difficulty"
          },
          {
            "fields": ["tags"],
            "description": "Query questions by tags (array-contains)"
          }
        ]
      },
      "quiz_sessions": {
        "description": "Active quiz sessions for real-time features",
        "fields": {
          "sessionId": {
            "type": "string",
            "description": "Unique session identifier",
            "required": true
          },
          "participantIds": {
            "type": "array",
            "items": "string",
            "description": "User IDs of participants",
            "required": true
          },
          "currentQuestionId": {
            "type": "string",
            "description": "Current question being answered",
            "required": false
          },
          "scores": {
            "type": "map",
            "description": "Map of participant scores",
            "required": true,
            "example": {
              "userId1": 85,
              "userId2": 92
            }
          },
          "startTime": {
            "type": "timestamp",
            "description": "Session start time",
            "required": true
          },
          "isActive": {
            "type": "boolean",
            "description": "Whether session is currently active",
            "required": true
          }
        }
      },
      "user_progress": {
        "description": "User progress and statistics",
        "fields": {
          "userId": {
            "type": "string",
            "description": "User identifier",
            "required": true
          },
          "totalQuestions": {
            "type": "number",
            "description": "Total questions attempted",
            "required": true
          },
          "correctAnswers": {
            "type": "number",
            "description": "Total correct answers",
            "required": true
          },
          "subjectStats": {
            "type": "map",
            "description": "Statistics by subject",
            "required": false,
            "example": {
              "Matematik": {
                "attempted": 25,
                "correct": 18,
                "percentage": 72.0
              }
            }
          },
          "lastActivity": {
            "type": "timestamp",
            "description": "Last quiz activity",
            "required": true
          }
        }
      }
    },
    "security_rules": {
      "description": "Firestore security rules for quiz data",
      "rules": {
        "questions": {
          "read": "authenticated users",
          "write": "admin only"
        },
        "quiz_sessions": {
          "read": "session participants only",
          "write": "session participants only"
        },
        "user_progress": {
          "read": "owner only",
          "write": "owner only"
        }
      }
    }
  },
  "sample_data": {
    "questions": [
      {
        "id": "math_001",
        "text": "2 + 2 = ?",
        "type": "multipleChoice",
        "difficulty": "beginner",
        "options": ["3", "4", "5", "6"],
        "correctAnswer": "4",
        "explanation": "2 + 2 = 4. Temel toplama işlemi.",
        "tags": ["toplama", "temel"],
        "subject": "Matematik",
        "points": 5,
        "initialConfidence": 0.5
      },
      {
        "id": "math_002",
        "text": "√16 = ?",
        "type": "multipleChoice",
        "difficulty": "intermediate",
        "options": ["2", "4", "8", "16"],
        "correctAnswer": "4",
        "explanation": "16'nın karekökü 4'tür çünkü 4 × 4 = 16.",
        "tags": ["karekök", "orta"],
        "subject": "Matematik",
        "points": 15,
        "initialConfidence": 0.5
      },
      {
        "id": "tr_001",
        "text": "\"Kitap\" kelimesinin çoğul hali nedir?",
        "type": "multipleChoice",
        "difficulty": "beginner",
        "options": ["Kitaplar", "Kitapları", "Kitaba", "Kitaptan"],
        "correctAnswer": "Kitaplar",
        "explanation": "\"Kitap\" kelimesinin çoğul hali \"+lar\" eki alarak \"kitaplar\" olur.",
        "tags": ["çoğul", "isim"],
        "subject": "Türkçe",
        "points": 5,
        "initialConfidence": 0.5
      },
      {
        "id": "farm_001",
        "text": "Aspirin hangi ilaç sınıfına aittir?",
        "type": "multipleChoice",
        "difficulty": "intermediate",
        "options": ["Antihistaminik", "NSAID", "Antibiyotik", "Antidepresan"],
        "correctAnswer": "NSAID",
        "explanation": "Aspirin, non-steroid antiinflamatuar ilaç (NSAID) sınıfına aittir.",
        "tags": ["ilaç", "sınıflandırma"],
        "subject": "Farmakoloji",
        "points": 15,
        "initialConfidence": 0.5
      }
    ]
  },
  "configuration": {
    "caching": {
      "enabled": true,
      "ttl_minutes": 10,
      "max_cache_size": 1000
    },
    "batch_operations": {
      "max_batch_size": 500,
      "chunk_size": 50
    },
    "performance": {
      "offline_persistence": true,
      "source_preference": "default"
    }
  }
}
